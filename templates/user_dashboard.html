{% extends "base.html" %}
{% block title %}My Requests{% endblock %}

{% block content %}
<div class="user-shell">



 <!-- User Sidebar -->
{% include 'partials/user_sidebar.html' %}


  <!-- Main Content -->
  <main class="user-content">

    <div class="card">
      <h2 style="margin-top:0;">My Requests</h2>
      <div class="muted">Signed in as {{ user["email"] }}</div>
    </div>

    <div class="card" style="margin-top:16px;">
      <span class="badge pending">Pending</span>
      <span class="badge approved" style="margin-left:8px;">Approved</span>
      <span class="badge denied" style="margin-left:8px;">Denied</span>
    </div>

    <h3 style="margin:24px 0 8px;">Recent Requests</h3>

    <table>
      <thead>
        <tr>
          <th>Request</th>
          <th>Category</th>
          <th>Status</th>
          <th>Priority</th>
          <th>State</th>
          <th>Submitted</th>
        </tr>
      </thead>

      <tbody id="my-requests-body">
        <tr>
          <td colspan="4">Loading requestsâ€¦</td>
        </tr>
      </tbody>
    </table>

    <div class="card" style="margin-top:24px;">
      <h3 style="margin-top:0;">Submit a New Request</h3>

      <form method="POST" action="{{ url_for('requests.create_request') }}">
        <div class="field">
          <input
            class="input"
            name="request_type"
            placeholder="Request type (e.g. VPN Access)"
            required
          >
        </div>

  <div class="field">
    <select class="input" name="category" required>
      <option value="">Select category</option>
      <option value="Access">Access</option>
      <option value="Hardware">Hardware</option>
      <option value="Software">Software</option>
      <option value="Account Management">Account Management</option>
      <option value="Onboarding">Onboarding</option>
      <option value="Offboarding">Offboarding</option>
      <option value="Facilities">Facilities</option>
      <option value="Security">Security</option>
  </select>
</div>

        <div class="field">
          <select class="input" name="priority" required>
            <option value="">Select priority</option>
            <option value="low">Low</option>
            <option value="medium">Medium</option>
            <option value="high">High</option>
          </select>
        </div>

        <button type="submit" class="btn">Submit Request</button>
      </form>
    </div>

  </main>
</div>


<script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>


{% endblock %}